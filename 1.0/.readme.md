# Customer Support API v1.0

## Base URL

`https://amicoapps.com/customer-support/1.0`

## Auth

Send header on every request:

| Header      | Value        |
| ----------- | ------------ |
| `X-API-KEY` | Your API key |

## Endpoints

| Method | Path         | Description |
| ------ | ------------ | ----------- |
| `GET`  | `/apps`      | List apps   |
| `GET`  | `/apps/{id}` | Get one app |
| `POST` | `/{app_id}/conversation` | Create conversation response |

## Response shape

### `GET /apps`

```json
{
  "apps": [
    {
      "bundle": "com.amicoapps.quitall",
      "id": "quitall",
      "instructions": "quitall-instructions.md",
      "name": "QuitAll"
    }
  ],
  "status": 200,
  "success": true
}
```

### `GET /apps/{id}`

```json
{
  "app": {
    "bundle": "com.amicoapps.quitall",
    "id": "quitall",
    "instructions": "quitall-instructions.md",
    "name": "QuitAll"
  },
  "status": 200,
  "success": true
}
```

### `POST /{app_id}/conversation`

Request:

```json
{
  "role": "user",
  "content": "Hello",
  "response": {
    "id": "resp_0ce709112faccf15006997368cc13081a3b0283809cbd608a8"
  }
}
```

`response` is optional. If omitted, it is treated as a new conversation.

Response:

```json
{
  "response": {
    "app": {
      "id": "quitall"
    },
    "content": "Hello",
    "response": {
      "id": "resp_0ce709112faccf15006997368cc13081a3b0283809cbd608a8"
    },
    "role": "user"
  },
  "status": 200,
  "success": true
}
```

## Error responses

| Status | Meaning                 |
| ------ | ----------------------- |
| `401`  | Invalid API key         |
| `404`  | Invalid endpoint/app id |
| `405`  | Method not allowed      |
| `500`  | Internal server error   |

## Example calls

### List apps

```bash
curl --location \
  'https://amicoapps.com/customer-support/1.0/apps' \
  --header 'X-API-KEY: YOUR_API_KEY'
```

### Get app by id

```bash
curl --location \
  'https://amicoapps.com/customer-support/1.0/apps/quitall' \
  --header 'X-API-KEY: YOUR_API_KEY'
```

### Create conversation response

```bash
curl --location \
  'https://amicoapps.com/customer-support/1.0/quitall/conversation' \
  --header 'X-API-KEY: YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --data '{
    "role": "user",
    "content": "Hello",
    "response": {
      "id": "resp_0ce709112faccf15006997368cc13081a3b0283809cbd608a8"
    }
  }'
```
